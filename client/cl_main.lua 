RegisterNUICallback("skillchecks:minigameResult", function(data, cb)
    SetNuiFocus(false, false)
    Result(data.result)
    cb('ok')
end)

exports('AlphabetGame', function(callback,time,keycount)
    SetNuiFocus(true, true)
    Result = callback
    SendNUIMessage({
        action = 'skillchecks:settings',
        data = {
            active = 'alphabet',
            show = true,
            name = 'Alphabet',
            description = 'Press the letter before time takes its lunch break!',
            gameTimeoutDuration = time or 10000,
            numKeys = keycount or 5
        }
    })
end)

exports('DirectionGame', function(callback,time,choice,min,max)
    SetNuiFocus(true, true)
    Result = callback
    SendNUIMessage({
        action = 'skillchecks:settings',
        data = {
            active = 'direction',
            show = true,
            name = 'direction',
            description = 'Look for the fish, then take a left at the seaweed and a right at the talking crab!',
            gameTimeoutDuration = time or 10000,
            requiredCorrectChoices = choice or 2,
            minGridSize = min or 3,
            maxGridSize = max or 7
        }
    })
end)

exports('FlipGame', function(callback,time,grid)
    SetNuiFocus(true, true)
    Result = callback
    SendNUIMessage({
        action = 'skillchecks:settings',
        data = {
            active = 'flip',
            show = true,
            name = 'flip',
            description = ' ',
            gameTimeoutDuration = time or 10000,
            gridSize = grid or 5
        }
    })
end)


exports('LockpickingGame', function(callback,time,num,lvl)
    SetNuiFocus(true, true)
    Result = callback
    SendNUIMessage({
        action = 'skillchecks:settings',
        data = {
            active = 'lockpicking',
            show = true,
            name = 'Lockpick',
            description = 'The key to unlocking locks is... well, keys!,
            gameTimeoutDuration = time or 30000,
            gameFinishedEndpoint = "skillchecks:minigameResult:lockpick",
            numLocks = num or 12,
            numLevels = lvl or 3
        }
    })
end)

exports('SameGame', function(callback,time,x,y)
    SetNuiFocus(true, true)
    Result = callback
    SendNUIMessage({
        action = 'skillchecks:settings',
        data = {
            active = 'same',
            show = true,
            name = 'Box',
            description = 'Boxes stick together when they're in the same clique',
            gameTimeoutDuration = time or 30000,
            gridSizeX = x or 11,
            gridSizeY = y or 8
        }
    })
end)

exports('UntangleGame', function(callback,time,pts)
    SetNuiFocus(true, true)
    Result = callback
    SendNUIMessage({
        action = 'skillchecks:settings',
        data = {
            active = 'untangle',
            show = true,
            name = 'untangle',
            description = 'Time to untangle those poor points',
            gameTimeoutDuration = time or 30000,
            numPoints = pts or 6
        }
    })
end)

exports('WordsGame', function(callback,time,crt)
    SetNuiFocus(true, true)
    Result = callback
    SendNUIMessage({
        action = 'skillchecks:settings',
        data = {
            active = 'words',
            show = true,
            name = 'words',
            description = 'Make those blocks color twins',
            gameTimeoutDuration = time or 30000,
            requiredCorrectChoices = crt or 5
        }
    })
end)

exports('FloodGame', function(callback,time,mov,grid)
    SetNuiFocus(true, true)
    Result = callback
    SendNUIMessage({
        action = 'skillchecks:settings',
        data = {
            active = 'flood',
            show = true,
            name = 'flood',
            description = 'Track down the elusive repeated work',
            gameTimeoutDuration = time or 80000,
            moveCountLeniency = mov or 2,
            gridSize = grid or 3
        }
    })
end)


